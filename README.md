# README

## アプリケーション名

DB 入門サイト

## アプリケーション概要

データベース初心者を対象に、データベースの基礎知識を体系的にアウトプットするためのブログアプリです。

## 課題

自身がデータベースの基礎知識を学習する際は、必要な情報が体系的かつ十分に含まれている教材がなかなか見つからず、複数の参考書やネット上から情報を収集し、それらを整理することに苦労した経験がありました。

例えば、SQL、論理設計、物理設計の基礎をそれぞれ別の参考書やネット上から学習する必要があったり、インデックスなど分野を跨るような知識を十分に理解するためには、それに関する情報を深掘りする必要があったなどです。

そのため、データベースの基礎知識を体系的かつ十分に学習できる教材が必要という課題を見出し、ポートフォリオ作成をきっかけに、当サイトを作成することにしました。

まだ記事はあまり投稿できていませんが、web サイト運営の学習やデータベースの基礎知識の復習も兼ねて、随時投稿していけたらよいと思っています。

## URL

https://majestic-joshua-tree-45635.herokuapp.com

## テスト用アカウント

email：visiter@example.com

password：visiter

上記アカウントでログインすると、各リソースの編集ページにアクセスすることができるようになります。

※セキュリティのため、実際のデータを編集する機能(作成、更新、削除)は制限させていただいております。

## 使用技術

- Ruby 2.7.6
- Ruby on Rails 6.0.5
- PostgreSQL 14.4
- Puma 4.3.12
- Heroku
- AWS
  - S3
- RSpec
- RuboCop
- ESLint

## 機能一覧

- ログイン機能(devise)

  ![ログイン機能](https://user-images.githubusercontent.com/96732339/183256890-03e37376-3a53-4115-a2e8-1f25710545c3.gif)

- カテゴリー編集機能

  - 表示、作成、更新、削除

  ![カテゴリー編集機能](https://user-images.githubusercontent.com/96732339/183256896-f3f7811e-a642-4141-99be-d963a96ba4d0.gif)

- 記事編集機能

  - 表示、投稿、更新、削除
  - 記事の非公開設定
  - マークダウンで記述(EasyMDE + Redcarpet + CodeRay)
  - エディタにドラッグアンドドロップで画像を投稿(inline-attachment)
  - マークダウンのプレビュー

  ![記事編集機能](https://user-images.githubusercontent.com/96732339/183256904-db255b8c-4577-4d48-b902-c408e2321227.gif)

- 画像リソース編集機能

  - 一覧表示、投稿、削除

  ![画像リソース編集機能](https://user-images.githubusercontent.com/96732339/183256910-ca5bb858-f6a7-456b-a849-66c8274ab2e6.gif)

- リンク

  - パンくずリスト
  - 目次
  - ページネーション(kaminari)
  - ページング

- 検索機能(ransack)

  | 機能名       | 使用例               | 説明                                                                                                                                                  |
  | ------------ | -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
  | 通常検索     | keyword              | キーワードが含まれていればヒットします                                                                                                                |
  | AND 検索     | keyword1 keyword2    | キーワードをスペースで区切ります<br>すべてのキーワードが含まれていればヒットします                                                                    |
  | OR 検索      | keyword1 OR keyword2 | キーワードを OR または or で区切ります<br>どちらか一方のキーワードが含まれていればヒットします                                                        |
  | 除外検索     | -keyword             | キーワードの先頭に-を付けます<br>キーワードが含まれていなければヒットします                                                                           |
  | フレーズ検索 | "sample keyword"     | キーワードをダブルクォートで囲みます<br>キーワードにスペースを含めて検索できます<br>除外検索と組み合わせる場合は、-"sample keyword"のように指定します |

  ![検索機能](https://user-images.githubusercontent.com/96732339/183256918-959f299c-01c4-4564-8c69-00c6b40c491e.gif)

## 非機能要件

- アクセス制御(cancancan)

  - 以下の機能はログイン中のみ利用可能

    - 非公開中の記事の表示
    - 公開中の記事が含まれないカテゴリーの表示
    - カテゴリー編集ページの表示
    - 記事編集ページの表示
    - マークダウンのプレビュー
    - 画像一覧の表示

  - 以下の機能は管理者のみ利用可能

    - カテゴリーの編集(作成、更新、削除)
    - 記事の編集(投稿、更新、削除)
    - 画像リソースの編集(投稿、削除)

- レスポンシブデザイン

  | 対象メディア   | ブレイクポイント |
  | -------------- | ---------------- |
  | PC             | 801px ～         |
  | タブレット     | 401px ～ 800px   |
  | スマートフォン | ～ 400px         |

- スラッグ(friendly_id)

- 常時 HTTPS 化

- 例外処理

  | エラー                                   | 処理                   |
  | ---------------------------------------- | ---------------------- |
  | 存在しないパスやコンテンツへのアクセス時 | 404 エラーページを表示 |
  | StandardError 発生時                     | 500 エラーページを表示 |

- テストコード(RSpec)

  - 単体テスト(model spec、helper spec)
  - 機能テスト(request spec)
  - 統合テスト(feature spec)

- リンター

  - Ruby(RuboCop)
  - Javascript(ESLint)

- フォーマッター

  - Ruby(Rufo)
  - CSS、Sass、JavaScript、JSON(Prettier)
  - HTML、ERB(Format/Beautify ERB)

## データベース設計

![erd](https://user-images.githubusercontent.com/96732339/182565436-eae917a0-cf30-415e-8f59-d5dc424f0f30.svg)

## 実装予定の要件

- AWS への移行

  - Heroku から AWS にデプロイする
  - 独自ドメインを取得する
