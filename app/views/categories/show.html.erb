<div class="main-wrapper">
  <div class="main">
    <%= render "shared/main_header", object: @category %>

    <div class="clear"></div>

    <div class="heading">
      <h1><%= @category.title %></h1>
      <%= simple_format(@category.summary) %>
    </div>

    <% if @categories.length >= 2 %>
      <div class="toc">
        <p>目次</p>
        <%= check_box_tag("toc-toggle") %>
        <%= label_tag("toc-toggle", "") %>
        <div class="toc-table">
          <ul>
            <% @categories.each do |category| %>
              <% if category.articles.any? %>
                <li>
                  <%= link_to "#{category.title}", "##{category.slug}" %>
                </li>
              <% end %>
            <% end %>
          </ul>
        </div>
      </div>
    <% end %>

    <div class="category-menu">
      <% @categories.each do |category| %>
        <% if category.articles.any? %>
          <ul>
            <li class="category-navi">
              <%= link_to category_path(category) do %>
                <h2 id="<%= category.slug %>">
                  <span class="fa fa-folder fa-fw"></span>
                  <%= category.title %>
                </h2>
              <% end %>
            </li>
            <% category.articles.each do |article| %>
              <li class="article-navi">
                <%= link_to category_article_path(category, article) do %>
                  <span class="fa fa-file"></span>
                  <%= article.title %>
                <% end %>
              </li>
            <% end %>
          </ul>
        <% end %>
      <% end %>
    </div>

    <%= render "shared/main_footer", previous_object: @previous_category,
                                     next_object: @next_category %>

    <div class="clear"></div>
  </div>
</div>